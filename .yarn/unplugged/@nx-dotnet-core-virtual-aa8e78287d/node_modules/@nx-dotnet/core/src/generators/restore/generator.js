"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const dotnet_1 = require("@nx-dotnet/dotnet");
const utils_1 = require("@nx-dotnet/utils");
function default_1(host, _, // Nx will populate this with options, which are currently unused.
dotnetClient = new dotnet_1.DotNetClient((0, dotnet_1.dotnetFactory)())) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const projects = yield (0, utils_1.getNxDotnetProjects)(host);
        for (const [projectName, project] of projects.entries()) {
            const projectFiles = (0, utils_1.getProjectFilesForProject)(host, project, projectName);
            for (const file of projectFiles) {
                dotnetClient.restorePackages(file);
            }
        }
        dotnetClient.restoreTools();
    });
}
exports.default = default_1;
//# sourceMappingURL=generator.js.map