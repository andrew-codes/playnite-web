"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("@nx-dotnet/utils");
const devkit_1 = require("@nx/devkit");
const semver_1 = require("semver");
function update(host) {
    if ((0, semver_1.major)(devkit_1.NX_VERSION) >= 17) {
        const options = (0, utils_1.readConfigFromNxJson)(host);
        if (!options) {
            return;
        }
        if ((0, utils_1.isNxDotnetConfigV1)(options)) {
            (0, utils_1.updateConfig)(host, (0, utils_1.upgradeConfigToV2)(options));
        }
    }
    else {
        const options = (0, utils_1.readConfigFromRCFile)(host);
        if ((0, utils_1.isNxDotnetConfigV1)(options)) {
            (0, utils_1.updateConfig)(host, (0, utils_1.upgradeConfigToV2)(options));
        }
    }
}
exports.default = update;
//# sourceMappingURL=update-2.1.0.js.map