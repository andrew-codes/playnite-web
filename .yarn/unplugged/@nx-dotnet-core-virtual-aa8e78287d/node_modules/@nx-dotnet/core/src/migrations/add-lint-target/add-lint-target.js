"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const devkit_1 = require("@nx/devkit");
const utils_1 = require("@nx-dotnet/utils");
const models_1 = require("../../models");
function update(host) {
    var _a, _b;
    var _c;
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const projects = yield (0, utils_1.getNxDotnetProjects)(host);
        for (const [name, project] of projects) {
            (_a = project.targets) !== null && _a !== void 0 ? _a : (project.targets = {});
            (_b = (_c = project.targets).lint) !== null && _b !== void 0 ? _b : (_c.lint = (0, models_1.GetLintExecutorConfiguration)());
            (0, devkit_1.updateProjectConfiguration)(host, name, project);
        }
        yield (0, devkit_1.formatFiles)(host);
    });
}
exports.default = update;
//# sourceMappingURL=add-lint-target.js.map